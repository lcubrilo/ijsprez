!function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},e.apply(this,arguments)},t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},t.apply(this,arguments)};function n(e){return e.toLowerCase()}var r=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],a=/[^A-Z0-9]+/gi;function o(e,t){void 0===t&&(t={});for(var o=t.splitRegexp,i=void 0===o?r:o,s=t.stripRegexp,l=void 0===s?a:s,p=t.transform,u=void 0===p?n:p,m=t.delimiter,f=void 0===m?" ":m,v=c(c(e,i,"$1\0$2"),l,"\0"),d=0,h=v.length;"\0"===v.charAt(d);)d++;for(;"\0"===v.charAt(h-1);)h--;return v.slice(d,h).split("\0").map(u).join(f)}function c(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function i(e,t){var n=e.charAt(0),r=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+r:""+n.toUpperCase()+r}function s(e,t){return 0===t?e.toLowerCase():i(e,t)}function l(n,r){return void 0===r&&(r={}),function(e,n){return void 0===n&&(n={}),o(e,t({delimiter:"",transform:i},n))}(n,e({transform:s},r))}var p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},p.apply(this,arguments)};var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u.apply(this,arguments)};function m(e,t){return void 0===t&&(t={}),function(e,t){return void 0===t&&(t={}),o(e,p({delimiter:"."},t))}(e,u({delimiter:"_"},t))}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var f,v="data-track",d={prefer:"".concat(v,"-prefer")},h=["click","submit","change"],g=!1,y=[{name:"login",parameters:["method"]},{name:"search",parameters:["search_term"]},{name:"select_content",parameters:["content_type","item_id"]},{name:"share",parameters:["method","content_type","item_id"]},{name:"sign_up",parameters:["method"]}],w=["click","change","submit","download","in-view"],b=["context","value","method","content_type","item_id","type"],O=["action","category","label","value","component"],x=["link_text","link_url"],k=["context"],E=["component"],_=["enhanced_measurement"],j=new RegExp("pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma"),A=e=>m(e.split("".concat(v,"-")).pop()),C=e=>-1!==w.indexOf(e),N=(e,t)=>{var n=m(e.getAttribute(v)),r=e.attributes,a=/^data-track-([\w-]+)$/,o=C(n)?E:k,c="A"===e.tagName,i={};o.forEach((t=>{var n="".concat(v,"-").concat(t),r=e.closest("[".concat(n,"]"));r!==e&&null!==r&&(i[A(n)]=r.getAttribute(n))})),[].slice.call(r).forEach((e=>{var{name:t,value:n}=e;!(-1!==Object.values(d).indexOf(t))&&!(t===v)&&a.test(t)&&n.length>0&&(i[A(t)]=n)}));var s,p=(e=>{var t=y.filter((t=>t.name===e))[0],n=b;return C(e)?n=O:t&&(n=t.parameters.concat(b)),n})(n),u=((e,t)=>{var n=[],r=[];return e.forEach((e=>{var a=m(e);t.indexOf(a)>-1?n.push(a):r.push(a)})),r.length>0&&console.warn("GA4 Event: The following parameters are not valid and were not sent",r),n})(Object.keys(i),p),f={};if(u.forEach((e=>{f[e]=i[e]})),c){(s=e.getAttribute("href").split(/[#?]/)[0].split(".").pop().trim()).length>0&&j.test(s)&&(f.enhanced_measurement=!0);var h=(e=>({link_url:e.getAttribute("href"),link_text:e.textContent.trim()}))(e);Object.assign(f,h)}var w,N,L=((e,t,n)=>{var r={"track.eventType":t};return(C(e)?O.concat(x,_):y.flatMap((e=>e.parameters)).concat(b).concat(x,_)).forEach((e=>{var t=Object.keys(n).indexOf(e)>-1;r["track.".concat(l(e))]=t?n[e]:void 0})),r})(n,t,f);g?(w=n,N=f,window.gtag&&window.gtag("event",w,N)):((e,t)=>{var n=Object.assign({event:C(e)?"track_legacy":"track","track.eventName":e},t);window.dataLayer.push(n)})(n,L)},L=e=>{if(!(window.sncc&&"function"==typeof window.sncc.consent)||!1!==window.sncc.consent("C02")){var{type:t,target:n}=e,r=n.closest("[".concat(v,"]"));if(r){var a="FORM"===r.tagName,o="OPTION"===n.tagName;if(!(a&&"submit"!==t||o)){if((e=>{var t=e.tagName.toLowerCase(),n=e.type,r=("button"===t||"input"===t)&&"submit"===n,a="textarea"===t||"input"===t&&-1===["hidden","image","reset","button"].indexOf(n);return!(!r&&!a&&"form"!==t)})(n)){var c=r.getAttribute(d.prefer);if(null!==c){if(t!==c)return}else if("click"===t)return;n!==r&&console.warn("Ensure that duplicate events are not being collected, i.e. an event from a parent element as well as a ".concat(t," event from the ").concat(n.type," element."))}N(r,t)}}}};g=!0===f,h.forEach((e=>document.addEventListener(e,L)))}();
